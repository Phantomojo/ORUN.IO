<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>2050.earth - Textured Earth with Continents</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }
        
        .main-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        .info {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #00ff00;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #333;
        }
        
        .controls {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 1000;
            color: #00ff00;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #333;
        }
        
        .controls button {
            background: #00ff00;
            color: #000;
            border: none;
            padding: 8px 16px;
            margin: 4px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            font-size: 12px;
        }
        
        .controls button:hover {
            background: #00cc00;
        }
        
        .controls button.active {
            background: #00ff00;
            box-shadow: 0 0 10px #00ff00;
        }
        
        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #00ff00;
            font-size: 18px;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="loading" id="loading">Loading Earth textures...</div>
        
        <div class="info" style="display: none;" id="info">
            <h3>EARTH 2050 - TEXTURED CONTINENTS</h3>
            <p>Real Earth textures with visible continents</p>
        </div>
        
        <div class="controls" style="display: none;" id="controls">
            <div style="margin-bottom: 10px; color: #00ff00; font-weight: bold;">CONTROLS</div>
            <button onclick="toggleWireframe()" id="wireframe-btn">Wireframe</button>
            <button onclick="toggleTextures()" id="textures-btn" class="active">Earth Textures</button>
            <button onclick="toggleRotation()" id="rotation-btn" class="active">Auto Rotate</button>
            <button onclick="changeView()" id="view-btn">View Angle</button>
        </div>
    </div>

    <!-- Load Three.js -->
    <script src="2050.earth/js/three.min.js"></script>
    
    <script>
        let scene, camera, renderer, wireframeEarth, texturedEarth, nightEarth, dataPoints;
        let isRotating = true;
        let showWireframe = false;
        let showTextures = true;
        let currentView = 0;
        let mouseX = 0, mouseY = 0;
        let isMouseDown = false;
        let earthImage = null;
        let loading = document.getElementById('loading');
        let info = document.getElementById('info');
        let controls = document.getElementById('controls');
        
        // Create a simple Earth texture using canvas
        function createEarthTexture() {
            const canvas = document.createElement('canvas');
            canvas.width = 1024;
            canvas.height = 512;
            const ctx = canvas.getContext('2d');
            
            // Create a gradient background for oceans
            const oceanGradient = ctx.createLinearGradient(0, 0, 0, 512);
            oceanGradient.addColorStop(0, '#001122');
            oceanGradient.addColorStop(0.5, '#002244');
            oceanGradient.addColorStop(1, '#001122');
            ctx.fillStyle = oceanGradient;
            ctx.fillRect(0, 0, 1024, 512);
            
            // Draw continents
            ctx.fillStyle = '#2a4a2a';
            
            // North America
            ctx.beginPath();
            ctx.moveTo(150, 100);
            ctx.bezierCurveTo(200, 80, 250, 90, 300, 120);
            ctx.bezierCurveTo(320, 140, 310, 160, 280, 180);
            ctx.bezierCurveTo(250, 200, 200, 190, 150, 170);
            ctx.bezierCurveTo(120, 150, 130, 120, 150, 100);
            ctx.fill();
            
            // South America
            ctx.beginPath();
            ctx.moveTo(200, 250);
            ctx.bezierCurveTo(220, 240, 240, 250, 250, 280);
            ctx.bezierCurveTo(260, 320, 250, 360, 230, 400);
            ctx.bezierCurveTo(210, 420, 190, 410, 180, 380);
            ctx.bezierCurveTo(170, 350, 180, 300, 200, 250);
            ctx.fill();
            
            // Europe
            ctx.beginPath();
            ctx.moveTo(450, 120);
            ctx.bezierCurveTo(480, 110, 500, 120, 510, 140);
            ctx.bezierCurveTo(520, 160, 510, 180, 490, 190);
            ctx.bezierCurveTo(470, 200, 450, 190, 440, 170);
            ctx.bezierCurveTo(430, 150, 440, 130, 450, 120);
            ctx.fill();
            
            // Africa
            ctx.beginPath();
            ctx.moveTo(480, 200);
            ctx.bezierCurveTo(500, 190, 520, 200, 530, 220);
            ctx.bezierCurveTo(540, 250, 530, 300, 520, 350);
            ctx.bezierCurveTo(510, 400, 490, 420, 470, 410);
            ctx.bezierCurveTo(450, 400, 440, 350, 450, 300);
            ctx.bezierCurveTo(460, 250, 470, 220, 480, 200);
            ctx.fill();
            
            // Asia
            ctx.beginPath();
            ctx.moveTo(550, 100);
            ctx.bezierCurveTo(600, 90, 650, 100, 700, 120);
            ctx.bezierCurveTo(750, 140, 780, 160, 800, 180);
            ctx.bezierCurveTo(820, 200, 810, 220, 780, 230);
            ctx.bezierCurveTo(750, 240, 700, 230, 650, 220);
            ctx.bezierCurveTo(600, 210, 550, 200, 520, 180);
            ctx.bezierCurveTo(500, 160, 510, 140, 530, 120);
            ctx.bezierCurveTo(540, 110, 550, 100, 550, 100);
            ctx.fill();
            
            // Australia
            ctx.beginPath();
            ctx.moveTo(750, 350);
            ctx.bezierCurveTo(780, 340, 800, 350, 820, 370);
            ctx.bezierCurveTo(840, 390, 830, 410, 800, 420);
            ctx.bezierCurveTo(770, 430, 740, 420, 720, 400);
            ctx.bezierCurveTo(700, 380, 710, 360, 750, 350);
            ctx.fill();
            
            return canvas;
        }
        
        // Create a night texture for city lights
        function createNightTexture() {
            const canvas = document.createElement('canvas');
            canvas.width = 1024;
            canvas.height = 512;
            const ctx = canvas.getContext('2d');
            
            // Black background
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, 1024, 512);
            
            // Add city lights
            ctx.fillStyle = '#ffffff';
            
            // North America lights
            ctx.beginPath();
            ctx.arc(200, 120, 2, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(250, 140, 1.5, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(280, 160, 2, 0, Math.PI * 2);
            ctx.fill();
            
            // Europe lights
            ctx.beginPath();
            ctx.arc(480, 140, 2, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(500, 160, 1.5, 0, Math.PI * 2);
            ctx.fill();
            
            // Asia lights
            ctx.beginPath();
            ctx.arc(600, 120, 2, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(650, 140, 2, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(700, 160, 1.5, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(750, 180, 2, 0, Math.PI * 2);
            ctx.fill();
            
            // Australia lights
            ctx.beginPath();
            ctx.arc(780, 380, 1.5, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(800, 400, 1, 0, Math.PI * 2);
            ctx.fill();
            
            return canvas;
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Initializing 2050.earth with textured continents...');
            
            // Wait for Three.js to load
            setTimeout(() => {
                if (typeof THREE !== 'undefined') {
                    console.log('THREE.js loaded successfully');
                    initEarth();
                } else {
                    console.error('THREE.js not loaded');
                }
            }, 500);
        });
        
        function initEarth() {
            try {
                // Create scene
                scene = new THREE.Scene();
                scene.background = new THREE.Color(0x000000);
                
                // Create camera
                camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                camera.position.z = 5;
                
                // Create renderer
                renderer = new THREE.WebGLRenderer({ antialias: true });
                renderer.setSize(window.innerWidth, window.innerHeight);
                document.querySelector('.main-container').appendChild(renderer.domElement);
                
                // Create Earth geometry
                const geometry = new THREE.SphereGeometry(2, 64, 32);
                
                // Create wireframe material
                const wireframeMaterial = new THREE.MeshBasicMaterial({
                    color: 0x00ff00,
                    wireframe: true,
                    transparent: true,
                    opacity: 0.6
                });
                
                // Create Earth texture
                const earthCanvas = createEarthTexture();
                const earthTexture = new THREE.CanvasTexture(earthCanvas);
                earthTexture.wrapS = THREE.RepeatWrapping;
                earthTexture.wrapT = THREE.ClampToEdgeWrapping;
                
                // Create night texture
                const nightCanvas = createNightTexture();
                const nightTexture = new THREE.CanvasTexture(nightCanvas);
                nightTexture.wrapS = THREE.RepeatWrapping;
                nightTexture.wrapT = THREE.ClampToEdgeWrapping;
                
                // Create textured Earth material
                const texturedMaterial = new THREE.MeshPhongMaterial({
                    map: earthTexture,
                    transparent: true,
                    opacity: 0.9
                });
                
                // Create night Earth material
                const nightMaterial = new THREE.MeshBasicMaterial({
                    map: nightTexture,
                    transparent: true,
                    opacity: 0.3,
                    blending: THREE.AdditiveBlending
                });
                
                // Create wireframe Earth
                wireframeEarth = new THREE.Mesh(geometry, wireframeMaterial);
                wireframeEarth.visible = false;
                scene.add(wireframeEarth);
                
                // Create textured Earth
                texturedEarth = new THREE.Mesh(geometry, texturedMaterial);
                scene.add(texturedEarth);
                
                // Create night Earth (slightly larger)
                const nightGeometry = new THREE.SphereGeometry(2.01, 64, 32);
                nightEarth = new THREE.Mesh(nightGeometry, nightMaterial);
                scene.add(nightEarth);
                
                // Create data points on land
                createDataPoints();
                
                // Add lighting
                const ambientLight = new THREE.AmbientLight(0x404040, 0.4);
                scene.add(ambientLight);
                
                const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
                directionalLight.position.set(5, 3, 5);
                scene.add(directionalLight);
                
                // Mouse controls
                document.addEventListener('mousedown', onMouseDown);
                document.addEventListener('mousemove', onMouseMove);
                document.addEventListener('mouseup', onMouseUp);
                document.addEventListener('wheel', onMouseWheel);
                
                // Animation loop
                function animate() {
                    requestAnimationFrame(animate);
                    
                    if (isRotating) {
                        wireframeEarth.rotation.y += 0.005;
                        texturedEarth.rotation.y += 0.005;
                        nightEarth.rotation.y += 0.005;
                    }
                    
                    renderer.render(scene, camera);
                }
                
                animate();
                
                // Handle window resize
                window.addEventListener('resize', () => {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                });
                
                // Hide loading and show controls
                loading.style.display = 'none';
                info.style.display = 'block';
                controls.style.display = 'block';
                
                console.log('2050.earth style Earth with textured continents initialized successfully');
                
            } catch (error) {
                console.error('Error initializing Earth:', error);
            }
        }
        
        function createDataPoints() {
            dataPoints = [];
            const pointGeometry = new THREE.SphereGeometry(0.02, 8, 8);
            const pointMaterial = new THREE.MeshBasicMaterial({
                color: 0xffffff,
                transparent: true,
                opacity: 0.8
            });
            
            // Add data points on land areas
            const landPositions = [
                { u: 0.2, v: 0.3 }, // North America
                { u: 0.25, v: 0.5 }, // South America
                { u: 0.5, v: 0.25 }, // Europe
                { u: 0.52, v: 0.4 }, // Africa
                { u: 0.7, v: 0.3 }, // Asia
                { u: 0.8, v: 0.6 }, // Australia
            ];
            
            landPositions.forEach(pos => {
                const point = new THREE.Mesh(pointGeometry, pointMaterial);
                
                // Convert UV to spherical coordinates
                const phi = pos.v * Math.PI;
                const theta = pos.u * Math.PI * 2;
                
                point.position.x = 2.1 * Math.sin(phi) * Math.cos(theta);
                point.position.y = 2.1 * Math.cos(phi);
                point.position.z = 2.1 * Math.sin(phi) * Math.sin(theta);
                
                // Add glow effect
                const glowGeometry = new THREE.SphereGeometry(0.05, 8, 8);
                const glowMaterial = new THREE.MeshBasicMaterial({
                    color: 0x00ff00,
                    transparent: true,
                    opacity: 0.3
                });
                const glow = new THREE.Mesh(glowGeometry, glowMaterial);
                point.add(glow);
                
                dataPoints.push(point);
                scene.add(point);
            });
        }
        
        // Mouse controls
        function onMouseDown(event) {
            isMouseDown = true;
            mouseX = event.clientX;
            mouseY = event.clientY;
        }
        
        function onMouseMove(event) {
            if (!isMouseDown) return;
            
            const deltaX = event.clientX - mouseX;
            const deltaY = event.clientY - mouseY;
            
            wireframeEarth.rotation.y += deltaX * 0.01;
            wireframeEarth.rotation.x += deltaY * 0.01;
            texturedEarth.rotation.y += deltaX * 0.01;
            texturedEarth.rotation.x += deltaY * 0.01;
            nightEarth.rotation.y += deltaX * 0.01;
            nightEarth.rotation.x += deltaY * 0.01;
            
            mouseX = event.clientX;
            mouseY = event.clientY;
        }
        
        function onMouseUp() {
            isMouseDown = false;
        }
        
        function onMouseWheel(event) {
            camera.position.z += event.deltaY * 0.01;
            camera.position.z = Math.max(3, Math.min(10, camera.position.z));
        }
        
        // Control functions
        function toggleWireframe() {
            showWireframe = !showWireframe;
            wireframeEarth.visible = showWireframe;
            texturedEarth.visible = !showWireframe;
            nightEarth.visible = !showWireframe;
            document.getElementById('wireframe-btn').classList.toggle('active', showWireframe);
        }
        
        function toggleTextures() {
            showTextures = !showTextures;
            texturedEarth.visible = showTextures;
            nightEarth.visible = showTextures;
            document.getElementById('textures-btn').classList.toggle('active', showTextures);
        }
        
        function toggleRotation() {
            isRotating = !isRotating;
            document.getElementById('rotation-btn').classList.toggle('active', isRotating);
        }
        
        function changeView() {
            currentView = (currentView + 1) % 3;
            switch(currentView) {
                case 0:
                    camera.position.set(0, 0, 5);
                    break;
                case 1:
                    camera.position.set(5, 0, 0);
                    break;
                case 2:
                    camera.position.set(0, 5, 0);
                    break;
            }
            camera.lookAt(0, 0, 0);
        }
    </script>
</body>
</html>
